<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ldms_watch: Admin-variables</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ldms_watch
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">LDMS app data exporting library for use with  text pull samplers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Admin-variables</div>  </div>
</div><!--header-->
<div class="contents">

<p>STRAWMAN: environment variables system administrators or users can set to control output file management.  
<a href="#details">More...</a></p>
<p>STRAWMAN: environment variables system administrators or users can set to control output file management. </p>
<pre class="fragment">environment LDMS_WATCH
</pre><p> All watch output functions are gated by the presence (or absence to disable them) of environment variable LDMS_WATCH.</p>
<p>If LDMS_WATCH exists, but is empty, all defaults will be used. If it is absent, all watch library functions become null operations for the returned pointer. If LDMS_WATCH has a value, the value will be parsed as a comma separated list of key:value pairs. The options and defaults are as follows:</p>
<table class="doxtable">
<tr>
<th>option </th><th>default  </th></tr>
<tr>
<td>dir </td><td>/dev/shm/ldms_watch </td></tr>
<tr>
<td>tlinger </td><td>120 </td></tr>
<tr>
<td>maxlog </td><td>200 </td></tr>
<tr>
<td>maxline </td><td>215 </td></tr>
<tr>
<td>logfull </td><td>limit </td></tr>
<tr>
<td>tabmax </td><td>4096 </td></tr>
<tr>
<td>progmax </td><td>1024 </td></tr>
<tr>
<td>syserr </td><td>0 </td></tr>
<tr>
<td>progint </td><td>1 </td></tr>
<tr>
<td>progoff </td><td>0 </td></tr>
<tr>
<td>#progid </td><td>%app%.%pid%.%start_time%.%tlinger.%run_name% </td></tr>
</table>
<p>If any option key is repeated within the string, the last value seen for that key is the value used. Thus the user's application launch environment can append adjustments to the system-define default LDMS_WATCH.</p>
<pre class="fragment">environment LDMS_WATCH option progid 
</pre><p> is not tunable at this time and will be ignored. It is a format string described here to document our file naming convention:</p>
<table class="doxtable">
<tr>
<th>%field% </th><th>meaning  </th></tr>
<tr>
<td>app </td><td>will be replaced with the value of the app argument passed to ldms_watch_init after any "." in it are replaced with "_". </td></tr>
<tr>
<td>pid </td><td>is replaced with the process id of the ldms_watch_init caller. </td></tr>
<tr>
<td>start_time </td><td>is replaced with the time (sec.us) of the call to ldms_watch_init. </td></tr>
<tr>
<td>tlinger </td><td>is the value of tlinger in the LDMS_WATCH variable. </td></tr>
<tr>
<td>run_name </td><td>is replaced with run_name from the ldms_watch_init arguments. </td></tr>
</table>
<pre class="fragment">environment LDMS_WATCH option tlinger 
</pre><p> is the advisory number of seconds after which a file without a corresponding live pid and create time can be deleted by any third party. The value should be at least twice the interval (in seconds) of the sampler collecting <a class="el" href="structldms__watch.html">ldms_watch</a> data. The default is (2^N -1 -40) for N=8.</p>
<pre class="fragment">environment LDMS_WATCH option maxlog 
</pre><p> provides the upper line count on log files. Log lines are prefixed by a sequence number and timestamp. Sequence numbers may be used to detect lost lines. Timestamps may be used to correlate system time with other data sources.</p>
<pre class="fragment">environment LDMS_WATCH option maxline 
</pre><p> provides the upper line length in log files; longer input strings will be truncated.</p>
<pre class="fragment">environment LDMS_WATCH option logfull 
</pre><p> determines the behavior when maxlog is reached on log files:</p>
<table class="doxtable">
<tr>
<th>value </th><th>log behavior  </th></tr>
<tr>
<td>limit </td><td>ignores further log lines submitted. </td></tr>
<tr>
<td>truncate </td><td>truncates the log file and continues recording. </td></tr>
<tr>
<td>ring </td><td>treats the file as a ring buffer, overwriting previous lines. </td></tr>
</table>
<p>The wisdom of these choices depends on the application <a class="el" href="structldms__watch.html">ldms_watch</a> usage and the storage plugin handling the data.</p>
<pre class="fragment">Environment LDMS_WATCH_JOB_CONTINUES
</pre><p> If set for use by ldms_watch_init, LDMS_WATCH_JOB_CONTINUES should contain a job identication string. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
